syntax = "proto3";

option go_package = "schema";

message Metadata {
  map<string,string> tracingTags = 1;
}

message Event {
  string id = 1;
  string type = 2;
  bytes data = 3;
  string parentId = 4;
  Metadata metadata = 5;
}

// Command from a client.
message Command {
  string id = 1;
  string action = 2;
  bytes data = 3;
  ContextType context = 4;
  Metadata metadata = 5;

  enum ContextType {
    DESKTOP = 0;
    WEB = 1;
    MOBILE = 2;
    SERVICE = 3;
  }
}
